---
// Astro component frontmatter
---

<section id="book-now" class="min-h-screen relative flex flex-col md:flex-row">
    <!-- Video Background - Now visible on mobile -->
    <div class="w-full md:w-1/2 relative overflow-hidden min-h-[40vh] md:min-h-screen">
        <video 
            class="absolute inset-0 w-full h-full object-cover"
            autoplay 
            loop 
            muted 
            playsinline
            poster="/images/contact-fallback.png"
        >
            <source src="/videos/contact-bg.mp4" type="video/mp4">
            <!-- Fallback for browsers that don't support video -->
            <img 
                src="/images/contact-fallback.png" 
                alt="Popstar Photo Booth Experience" 
                class="absolute inset-0 w-full h-full object-cover"
            />
        </video>
        <div class="absolute inset-0 bg-gradient-to-b md:bg-gradient-to-r from-black/20 to-black/60"></div>
        
        <!-- Video side content -->
        <div class="absolute bottom-0 left-0 p-8 md:p-12 text-white">
            <h3 class="text-2xl md:text-3xl font-light mb-2">Create Your</h3>
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Popstar Moment</h2>
        </div>
    </div>

    <!-- Form Half -->
    <div class="w-full md:w-1/2 min-h-[60vh] md:min-h-screen bg-black relative overflow-hidden flex items-center">
        <!-- Subtle star background -->
        <div class="absolute inset-0">
            <div class="parallax-stars-1"></div>
            <div class="parallax-stars-2"></div>
            <div class="parallax-stars-3"></div>
        </div>

        <div class="relative w-full px-6 md:px-16 py-16 md:py-24">
            <div class="max-w-xl mx-auto">
                <div class="text-center mb-8 md:mb-12">
                    <h2 class="text-4xl md:text-5xl font-light mb-4 text-white tracking-wide">Book Your Experience</h2>
                    <p class="text-lg md:text-xl text-white/70">
                        Popular dates are booking quickly! Check your date's availability.
                    </p>
                </div>

                <div class="bg-white rounded-3xl shadow-[0_0_50px_rgba(255,255,255,0.05)] p-6 md:p-8">
                    <!-- CheckCherry Form -->
                    <script 
                        src="https://popstar-photo-booths.checkcherry.com/api/checkcherry_widgets" 
                        type="text/javascript" 
                        charset="utf-8"
                    ></script>
                    <div 
                        class="checkcherry__widget__contact-form" 
                        data-props='{
                            "apiKey":"TCN-R4JQ-W4A",
                            "contactFormId":12895,
                            "iframe":false,
                            "host":"https://popstar-photo-booths.checkcherry.com"
                        }'
                    ></div>
                </div>

                <div class="mt-6 md:mt-8 text-center text-white/70 flex items-center justify-center gap-2">
                    <i class="fas fa-shield-alt"></i>
                    <span>Your information is secure and encrypted</span>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Parallax star layers */
    .parallax-stars-1,
    .parallax-stars-2,
    .parallax-stars-3 {
        position: absolute;
        width: 100%;
        height: 100%;
        background: transparent;
    }

    .parallax-stars-1::before,
    .parallax-stars-2::before,
    .parallax-stars-3::before {
        content: '';
        position: absolute;
        width: 2px;
        height: 2px;
        background: rgba(255, 255, 255, 0.3);
        box-shadow: 
            10vw 10vh rgba(255, 255, 255, 0.2),
            20vw 20vh rgba(255, 255, 255, 0.3),
            30vw 30vh rgba(255, 255, 255, 0.2),
            40vw 40vh rgba(255, 255, 255, 0.3),
            50vw 50vh rgba(255, 255, 255, 0.2),
            60vw 60vh rgba(255, 255, 255, 0.3),
            70vw 70vh rgba(255, 255, 255, 0.2),
            80vw 80vh rgba(255, 255, 255, 0.3),
            90vw 90vh rgba(255, 255, 255, 0.2);
    }

    .parallax-stars-1 {
        animation: parallaxMove1 60s infinite linear;
    }

    .parallax-stars-2 {
        animation: parallaxMove2 45s infinite linear;
    }

    .parallax-stars-3 {
        animation: parallaxMove3 30s infinite linear;
    }

    @keyframes parallaxMove1 {
        from { transform: translateY(0); }
        to { transform: translateY(-1000px); }
    }

    @keyframes parallaxMove2 {
        from { transform: translateY(0) rotate(45deg); }
        to { transform: translateY(-1000px) rotate(45deg); }
    }

    @keyframes parallaxMove3 {
        from { transform: translateY(0) rotate(-45deg); }
        to { transform: translateY(-1000px) rotate(-45deg); }
    }

    /* Updated form styles for better contrast */
    :global(.checkcherry__widget__contact-form) {
        --cc-primary-color: #facc15 !important;
        --cc-font-family: inherit !important;
    }

    :global(.checkcherry__widget__contact-form input),
    :global(.checkcherry__widget__contact-form select),
    :global(.checkcherry__widget__contact-form textarea) {
        @apply bg-gray-100 border-gray-200 text-black rounded-lg 
               focus:border-yellow-400 focus:ring focus:ring-yellow-400/20 !important;
    }

    :global(.checkcherry__widget__contact-form input::placeholder),
    :global(.checkcherry__widget__contact-form textarea::placeholder) {
        @apply text-gray-500 !important;
    }

    :global(.checkcherry__widget__contact-form button[type="submit"]) {
        @apply bg-yellow-400 text-black rounded-full px-8 py-3 font-semibold 
               hover:bg-yellow-300 transition-all duration-300 hover:scale-105 !important;
    }

    :global(.checkcherry__widget__contact-form label) {
        @apply text-gray-700 font-medium !important;
    }
</style>