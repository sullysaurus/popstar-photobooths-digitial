---
const testimonials = [
    {
        name: "Lori Carson",
        event: "The Franciscan School",
        quote: "Popstar Photo Booths was the perfect hit at our Mother/Daughter Brunch! ðŸŽ‰ From snapping adorable photos to creating fun GIFs and instantly texting them, everyone had an absolute blast."
    },
    {
        name: "Danielle Brier",
        event: "Brier Creek Country Club",
        quote: "We use Popstar Photo Booths for all of our large events at the Country Club, and they are FABULOUS! They reply quicky to all communications, are on time and are efficient with set up and tear down."
    },
    {
        name: "Jenne Kendziora",
        event: "Private Party",
        quote: "We LOVED having Popstar Photo Booths at our holiday party. So much so that I am having them back for another gathering this week. The owner was great to work with, early for set up, I can't say enough good things!"
    }
];
---

<section id="testimonials" class="relative min-h-[120vh] flex items-center overflow-x-hidden">
    {/* Background Video */}
    <div class="absolute inset-0 w-full h-full">
        <video 
            class="absolute inset-0 w-full h-full object-cover"
            autoplay 
            loop 
            muted 
            playsinline
        >
            <source src="videos/girls-bg.mp4" type="video/mp4" />
        </video>
        <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"></div>
    </div>

    <div class="relative z-10 w-full">
        <div class="container mx-auto px-4">
            <div class="max-w-xl ml-4 md:ml-16 lg:ml-32">
                <h2 class="text-4xl md:text-6xl font-light mb-6 text-white leading-tight">
                    Our Clients 
                    <span class="block font-bold italic text-yellow-400">Love Us</span>
                </h2>
                
                {/* Rating Display */}
                <div class="flex items-center gap-3 mb-12">
                    <div class="text-yellow-400 flex gap-1">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="text-white/80 text-sm">|</span>
                    <span class="text-white/80 text-sm">5.0 Rating on Google</span>
                </div>

                {/* Testimonial Slider */}
                <div class="testimonial-slider overflow-hidden">
                    <div class="swiper-wrapper">
                        {testimonials.map((testimonial, index) => (
                            <div class="swiper-slide">
                                <blockquote class="text-2xl font-light text-white/90 mb-8 leading-relaxed">
                                    "{testimonial.quote}"
                                </blockquote>
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-[1px] bg-yellow-400"></div>
                                    <div>
                                        <p class="font-medium text-white">{testimonial.name}</p>
                                        <p class="text-sm text-white/60">{testimonial.event}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {/* Custom Navigation */}
                    <div class="flex items-center gap-4 mt-12">
                        <button class="testimonial-prev w-12 h-12 rounded-full border border-yellow-400/30 flex items-center justify-center text-yellow-400 hover:bg-yellow-400 hover:text-black transition-all">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <button class="testimonial-next w-12 h-12 rounded-full border border-yellow-400/30 flex items-center justify-center text-yellow-400 hover:bg-yellow-400 hover:text-black transition-all">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                {/* Stats */}
                <div class="flex gap-12 mt-16">
                    <div>
                        <div class="text-4xl font-bold text-yellow-400">200+</div>
                        <div class="text-white/60 text-sm">Events</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold text-yellow-400">20k+</div>
                        <div class="text-white/60 text-sm">Photos</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold text-yellow-400">100%</div>
                        <div class="text-white/60 text-sm">Satisfaction</div>
                    </div>
                </div>

                {/* CTA Button */}
                <a 
                    href="#book-now" 
                    class="inline-flex items-center gap-3 mt-12 bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-full border border-white/20 hover:bg-yellow-400 hover:text-black hover:border-transparent transition-all duration-300 group"
                    onclick="scrollToForm(event)"
                >
                    Book Your Experience
                    <svg 
                        xmlns="http://www.w3.org/2000/svg" 
                        class="h-5 w-5 group-hover:translate-x-0.5 transition-transform" 
                        viewBox="0 0 20 20" 
                        fill="currentColor"
                    >
                        <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    .testimonial-slider {
        opacity: 0;
        animation: fadeIn 0.8s ease-out forwards;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<script>
    import Swiper from 'swiper';
    import { Autoplay, Navigation, EffectFade } from 'swiper/modules';
    import 'swiper/css';
    import 'swiper/css/effect-fade';

    new Swiper('.testimonial-slider', {
        modules: [Autoplay, Navigation, EffectFade],
        effect: 'fade',
        fadeEffect: {
            crossFade: true
        },
        speed: 600,
        loop: true,
        autoplay: {
            delay: 4000,
            disableOnInteraction: false,
        },
        navigation: {
            nextEl: '.testimonial-next',
            prevEl: '.testimonial-prev',
        },
        observer: true,
        observeParents: true,
        watchOverflow: true,
        touchRatio: 1,
        touchAngle: 45,
        grabCursor: true,
    });
</script>
